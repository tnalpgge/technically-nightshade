<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.108.0"><meta name=generator content="Relearn 5.7.0+tip"><meta name=description content><title>Generating Royal History :: Technically Nightshade</title><link href=/technically-nightshade/css/fontawesome-all.min.css?1670559068 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/technically-nightshade/css/fontawesome-all.min.css?1670559068 rel=stylesheet></noscript><link href=/technically-nightshade/css/featherlight.min.css?1670559068 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/technically-nightshade/css/featherlight.min.css?1670559068 rel=stylesheet></noscript><link href=/technically-nightshade/css/auto-complete.css?1670559068 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/technically-nightshade/css/auto-complete.css?1670559068 rel=stylesheet></noscript><link href=/technically-nightshade/css/perfect-scrollbar.min.css?1670559068 rel=stylesheet><link href=/technically-nightshade/css/nucleus.css?1670559068 rel=stylesheet><link href=/technically-nightshade/css/fonts.css?1670559068 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/technically-nightshade/css/fonts.css?1670559068 rel=stylesheet></noscript><link href=/technically-nightshade/css/theme.css?1670559068 rel=stylesheet><link href=/technically-nightshade/css/theme-relearn-light.css?1670559068 rel=stylesheet id=variant-style><link href=/technically-nightshade/css/ie.css?1670559068 rel=stylesheet><link href=/technically-nightshade/css/variant.css?1670559068 rel=stylesheet><link href=/technically-nightshade/css/print.css?1670559068 rel=stylesheet media=print><script src=/technically-nightshade/js/url.js?1670559068></script>
<script src=/technically-nightshade/js/variant.js?1670559068></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="Copy to clipboard",window.T_Copied_to_clipboard="Copied to clipboard!",window.T_Copy_link_to_clipboard="Copy link to clipboard",window.T_Link_copied_to_clipboard="Copied link to clipboard!",window.T_No_results_found="No results found for \u0022{0}\u0022",window.T_N_results_found="{1} results found for \u0022{0}\u0022",baseUriFull="https://tnalpgge.github.io/technically-nightshade/",window.variants&&variants.init(["relearn-light"])</script><script src=/technically-nightshade/js/jquery.min.js?1670559068 defer></script></head><body class="mobile-support html" data-url=/technically-nightshade/posts/generating-royal-history/index.html><div id=body class=default-animation><div id=sidebar-overlay></div><div id=toc-overlay></div><nav id=topbar class=highlightable dir=ltr><div><div class=navigation><span class="nav nav-next"><i class="fa fa-chevron-right fa-fw"></i></span></div><div class=navigation><a class="nav nav-prev" href=/technically-nightshade/posts/index.html title="Posts (&#129104;)"><i class="fas fa-chevron-left fa-fw"></i></a></div><div id=breadcrumbs><span id=sidebar-toggle-span><a href=# id=sidebar-toggle title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a></span>
<span id=toc-menu title='Table of Contents (CTRL+ALT+t)'><i class="fas fa-list-alt fa-fw"></i></span><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/technically-nightshade/posts/index.html><span itemprop=name>Posts</span></a><meta itemprop=position content="1">></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Generating Royal History</span><meta itemprop=position content="2"></li></ol></div><div class="default-animation progress"><div class=toc-wrapper dir=ltr><nav id=TableOfContents><ul><li><a href=#complete-source>Complete Source</a></li></ul></nav></div></div></div></nav><main id=body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><div id=head-tags><div class=tags><a class=tag-link href=/technically-nightshade/tags/elisp/index.html>elisp</a>
<a class=tag-link href=/technically-nightshade/tags/emacs/index.html>emacs</a>
<a class=tag-link href=/technically-nightshade/tags/orgmode/index.html>orgmode</a>
<a class=tag-link href=/technically-nightshade/tags/procgen/index.html>procgen</a>
<a class=tag-link href=/technically-nightshade/tags/ttrpg/index.html>ttrpg</a></div></div><article class=default><h1 id=generating-royal-history>Generating Royal History</h1><p>Recently I found myself in a bit of a bind as someone who wants to write homebrew content for a very popular tabletop role-playing game. As is so common in many fantasy settings, there is some sort of feudal system, and there is some history of rulers, possibly with noble houses vying for power. I had arbitrarily selected &ndash; with the help of the <a href=https://donjon.bin.sh/fantasy/calendar/>donjon Fantasy Calendar Generator</a> &ndash; that the year in the setting was in the very late 600s. But the information that I had posted on the web site for the setting said that the current year was in the mid-800s! And I already had the names of the current rulers and their predecessors back for 250 years or so published to the setting web site.</p><p>Fortunately for me, a lot of that information is just background and hasn&rsquo;t actually been used in-game yet. I decided to take the existing record of recent rulers from the same house and shift it to match my desired end date. But that left a gap of almost 200 years, and I had to ensure that the succession wasn&rsquo;t totally bonkers during that time.</p><p>Since I had used a very unsophisticated random generator on the previous iteration, I figured I&rsquo;d codify and improve it. And because I was planning out my campaign in <a href=https://orgmode.org/>org-mode</a> files, I could get <a href=https://www.gnu.org/software/emacs/>Emacs</a> to generate stuff right there in my document.<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> And augment my existing table containing a human-friendly version of the royal historian&rsquo;s official account to treat a few columns in a more spreadsheet-like manner. I could then publish the table minus a few key columns on the setting&rsquo;s web site and things would be golden.</p><p>First, the matter of the royal historian&rsquo;s official account. While I am no wizard at Emacs Lisp, I know enough of it and Emacs self-documenting facilities to bludgeon my way to something that works.</p><p>I will spare you the long saga of actually writing the generator and just present the finished bits of code, with commentary interspersed. In my original document, all of the Emacs Lisp code for generating the royal historian&rsquo;s account is in a single <code>#+begin_src elisp</code> &mldr; <code>#+end_src</code> block.</p><p>I knew that I wanted to organize my generator by separating the data from the code, so I started out by plotting the fixed points.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp><span style=display:flex><span>(setq reign/houses <span style=color:#f92672>&#39;</span>(gondal zaman ashkani sial
</span></span><span style=display:flex><span>			  psarlay qambrani malyar
</span></span><span style=display:flex><span>			  jalbani baloch nazdana rodini))
</span></span></code></pre></div><p>The first such fixed points were the names of the royal houses vying for the throne. I sourced them all from artisanal button-mashing on <a href=https://www.fantasynamegenerators.com/>Fantasy Name Generators</a>. (To protect the <del>guilty</del> innocent, the names I give in this article are a bit different than the ones I use in the campaign.)</p><p>I found that using <code>defvar</code> instead of <code>setq</code> got in the way of frequent re-evaluation of the code block. If this were code that I planned to distribute to others in a convenient form then I would learn all the nuances of the various ways of setting variables or constants, but this is really for my own convenience.</p><p>Occasionally one house cannot hold on to the throne, and they are deposed. I decided that there was a roughly 1 in 3 chance of the throne changing hands when a ruler&rsquo;s reign ended, so I expressed that as a list of booleans from which I would eventually select a random element. <code>nil</code> means the throne remains with the same house when the ruler changes. <code>t</code> indicates a change of house, and possibly a bloody and messy interregnum. (But I will leave that to the professionals to describe in gory detail.)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp><span style=display:flex><span>(setq reign/maybe-change-of-house (<span style=color:#a6e22e>list</span> <span style=color:#66d9ef>nil</span> <span style=color:#66d9ef>nil</span> <span style=color:#66d9ef>t</span>))
</span></span></code></pre></div><p>There are many gender expressions in our modern world, and there are almost as many in this fantasy setting. Because our nobles aren&rsquo;t the most enlightened people by modern standards, it is more common for them to have male rulers. But female rulers are known to happen, and once in a while a ruler may eschew traditional gender (<code>x</code>) altogether. (It&rsquo;s good to be the <del>king</del> <del>queen</del> monarch!) So we&rsquo;ll assemble another table of probabilities: 3/6 male (<code>m</code>), 2/6 female (<code>f</code>), 1/6 other (<code>x</code>).<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp><span style=display:flex><span>(setq reign/ruler-genders <span style=color:#f92672>&#39;</span>(m m m f f x))
</span></span></code></pre></div><p>Sometimes a ruler may take a consort, and sometimes they won&rsquo;t. I arbitrarily decided that it was a little more likely that they would have one (<code>t</code>) than not (<code>nil</code>).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp><span style=display:flex><span>(setq reign/maybe-has-consort (<span style=color:#a6e22e>list</span> <span style=color:#66d9ef>t</span> <span style=color:#66d9ef>t</span> <span style=color:#66d9ef>t</span> <span style=color:#66d9ef>nil</span> <span style=color:#66d9ef>nil</span>))
</span></span></code></pre></div><p>And if the ruler took a consort, would the consort&rsquo;s gender match the ruler&rsquo;s? More likely that the ruler and their consort would be a heterosexual couple (<code>nil</code>). But we allow for same-gender couples (<code>t</code>) and even a consort who doesn&rsquo;t exhibit traditional gender (<code>x</code>).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp><span style=display:flex><span>(setq reign/maybe-consort-gender (<span style=color:#a6e22e>list</span> <span style=color:#66d9ef>nil</span> <span style=color:#66d9ef>nil</span> <span style=color:#66d9ef>nil</span> <span style=color:#66d9ef>nil</span> <span style=color:#66d9ef>nil</span> <span style=color:#66d9ef>t</span> <span style=color:#66d9ef>t</span> <span style=color:#66d9ef>t</span> <span style=color:#e6db74>&#39;x</span>))
</span></span></code></pre></div><p>To encourage some variation in the length of a ruler&rsquo;s reign, we&rsquo;ll roll 2d36. Some reigns are short, some are long, most fall in the middle.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp><span style=display:flex><span>(defun reign/duration () (<span style=color:#a6e22e>+</span> (<span style=color:#a6e22e>random</span> <span style=color:#ae81ff>36</span>) (<span style=color:#a6e22e>random</span> <span style=color:#ae81ff>36</span>)))
</span></span></code></pre></div><p>Does another house steal the throne when the ruler changes? If so, what house? We can&rsquo;t choose the same house as we started with so <code>reign/change-of-house</code> will keep picking until we get something different. The <code>seq-random-elt</code> function is quite literally the backbone of our generator, choosing one element at random from the sequence given as its argument. Yes, the variables above were explicitly chosen with this function in mind.</p><p>Since this is Lisp, you will be seeing a lot of recursive functions from here on out!</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp><span style=display:flex><span>(defun reign/new-house () (seq-random-elt reign/maybe-change-of-house))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun reign/house () (seq-random-elt reign/houses))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun reign/change-of-house (old-house)
</span></span><span style=display:flex><span>  (let ((new-house (reign/house)))
</span></span><span style=display:flex><span>    (if (<span style=color:#a6e22e>eq</span> new-house old-house)
</span></span><span style=display:flex><span>      (reign/change-of-house old-house)
</span></span><span style=display:flex><span>      new-house)))
</span></span></code></pre></div><p>Now we get to the sticky matter of the gender of the ruler, if they have a consort, and the gender of their consort. A lookup table for <code>reign/consort-gender-lookup</code> would have been difficult to understand, but as a function I can express the intent much more clearly. <code>x</code> means that the consort is ender non-conforming, <code>t</code> means that the ruler and consort are the same gender, <code>nil</code> means a more traditional couple.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp><span style=display:flex><span>(defun reign/ruler-gender () (seq-random-elt reign/ruler-genders))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun reign/has-consort () (seq-random-elt reign/maybe-has-consort))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun reign/consort-gender () (seq-random-elt reign/maybe-consort-gender))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun reign/consort-gender-lookup (ruler consort)
</span></span><span style=display:flex><span>  (cond ((<span style=color:#a6e22e>eq</span> consort <span style=color:#e6db74>&#39;x</span>) consort)
</span></span><span style=display:flex><span>      ((and (<span style=color:#a6e22e>eq</span> ruler <span style=color:#e6db74>&#39;m</span>) (not consort)) <span style=color:#e6db74>&#39;f</span>)
</span></span><span style=display:flex><span>      ((and (<span style=color:#a6e22e>eq</span> ruler <span style=color:#e6db74>&#39;f</span>) (not consort)) <span style=color:#e6db74>&#39;m</span>)
</span></span><span style=display:flex><span>      (<span style=color:#66d9ef>t</span> ruler)))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun reign/consort-gender (ruler-gender)
</span></span><span style=display:flex><span>  (let ((consort-gender (seq-random-elt reign/maybe-consort-gender)))
</span></span><span style=display:flex><span>    (reign/consort-gender-lookup ruler-gender consort-gender)))
</span></span></code></pre></div><p>So with all of our data structures defined, and a bunch of helper functions in the bag, we can generate one ruler&rsquo;s reign. We&rsquo;ll express it as an alist, a list of pairs. The first element of each pair will be a human-friendly name of an attribute of a ruler&rsquo;s reign; the second element will be the associated value.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp><span style=display:flex><span>(defun reign/generate-one (current-house)
</span></span><span style=display:flex><span>  (let* ((duration (reign/duration))
</span></span><span style=display:flex><span>       (next-house (if (reign/new-house) (reign/change-of-house current-house) current-house))
</span></span><span style=display:flex><span>       (ruler-gender (reign/ruler-gender))
</span></span><span style=display:flex><span>       (has-consort (reign/has-consort))
</span></span><span style=display:flex><span>       (consort-gender (reign/consort-gender ruler-gender)))
</span></span><span style=display:flex><span>    (<span style=color:#a6e22e>list</span>
</span></span><span style=display:flex><span>     (<span style=color:#a6e22e>cons</span> <span style=color:#e6db74>&#39;duration</span> duration)
</span></span><span style=display:flex><span>     (<span style=color:#a6e22e>cons</span> <span style=color:#e6db74>&#39;house</span> next-house)
</span></span><span style=display:flex><span>     (<span style=color:#a6e22e>cons</span> <span style=color:#e6db74>&#39;ruler-gender</span> ruler-gender)
</span></span><span style=display:flex><span>     (<span style=color:#a6e22e>cons</span> <span style=color:#e6db74>&#39;consort-gender</span> (if has-consort consort-gender <span style=color:#e6db74>&#39;no-consort</span>)))))
</span></span></code></pre></div><p>So we can generate a bunch of reigns that are disconnected from each other. What we really wanted to do was fill a gap of a certain duration, knowing the start and end years, and the ruler&rsquo;s house as of the end year.</p><p>Another recursive function to the rescue, this time one that keeps track of our history. Instead of going forwards in time, this one goes backwards from the end, treating history as a stack, and we push older and older reigns onto the front of it.</p><p>Our recursion base case can be when <code>end-year</code>, which we redefine on each recursion, has reached or overshot the <code>start-year</code>. In that case we just return the accumulated <code>history</code> and say we have completed our task.</p><p>If we&rsquo;ve still got a ways to go, we can use <code>reign/generate-one</code> to generate the next earlier reign, and start picking it apart to make sure it doesn&rsquo;t run afoul of <code>start-year</code>, adjusting its professed duration and end year if necessary. Then we can augment the generated reign record with this additional information, add it to the front of our history, and continue to recurse back in time. The functions <code>alist-get</code> and <code>assoc-delete-all</code> help us craft the adjusted reign record.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp><span style=display:flex><span>(defun reign/generate-helper (start-year start-house end-year history)
</span></span><span style=display:flex><span>  (if (<span style=color:#a6e22e>&lt;=</span> end-year start-year) history
</span></span><span style=display:flex><span>    (let* ((this-reign (reign/generate-one start-house))
</span></span><span style=display:flex><span>	 (house (alist-get <span style=color:#e6db74>&#39;house</span> this-reign))
</span></span><span style=display:flex><span>	 (maybe-duration (alist-get <span style=color:#e6db74>&#39;duration</span> this-reign))
</span></span><span style=display:flex><span>	 (duration-floor (<span style=color:#a6e22e>-</span> end-year start-year))
</span></span><span style=display:flex><span>	 (maybe-new-end-year (<span style=color:#a6e22e>-</span> end-year maybe-duration))
</span></span><span style=display:flex><span>	 (adjusted-duration (if (<span style=color:#a6e22e>&lt;</span> maybe-new-end-year start-year) duration-floor maybe-duration))
</span></span><span style=display:flex><span>	 (new-end-year (if (<span style=color:#a6e22e>&lt;=</span> maybe-new-end-year start-year) start-year maybe-new-end-year))
</span></span><span style=display:flex><span>	 (augmentation (<span style=color:#a6e22e>list</span>
</span></span><span style=display:flex><span>			(<span style=color:#a6e22e>cons</span> <span style=color:#e6db74>&#39;start-year</span> new-end-year)
</span></span><span style=display:flex><span>			(<span style=color:#a6e22e>cons</span> <span style=color:#e6db74>&#39;end-year</span> end-year)))
</span></span><span style=display:flex><span>	 (adjusted-duration-pair (<span style=color:#a6e22e>cons</span> <span style=color:#e6db74>&#39;duration</span> adjusted-duration))
</span></span><span style=display:flex><span>	 (durationless-reign (assoc-delete-all <span style=color:#e6db74>&#39;duration</span> this-reign))
</span></span><span style=display:flex><span>	 (adjusted-reign (<span style=color:#a6e22e>cons</span> adjusted-duration-pair durationless-reign))
</span></span><span style=display:flex><span>	 (reign-record (<span style=color:#a6e22e>append</span> augmentation adjusted-reign))
</span></span><span style=display:flex><span>	 (new-history (<span style=color:#a6e22e>cons</span> reign-record history)))
</span></span><span style=display:flex><span>      (reign/generate-helper start-year house new-end-year new-history))))
</span></span></code></pre></div><p>Now we can fill in the gap that we were so worried about!</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp><span style=display:flex><span>(setq reign/start-gap <span style=color:#ae81ff>611</span>)
</span></span><span style=display:flex><span>(setq reign/end-house <span style=color:#e6db74>&#39;malyar</span>)
</span></span><span style=display:flex><span>(setq reign/end-gap <span style=color:#ae81ff>784</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun reign/generate-gap ()
</span></span><span style=display:flex><span>  (reign/generate-helper reign/start-gap reign/end-house reign/end-gap <span style=color:#66d9ef>nil</span>))
</span></span></code></pre></div><p>And since we have this useful code that allows us to plug in any values we want, we may as well generate rulers back to the beginning of time&mldr;or at least back to the beginning of recorded history.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp><span style=display:flex><span>(setq reign/start-ancient <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>(setq reign/end-ancient-house <span style=color:#e6db74>&#39;baloch</span>)
</span></span><span style=display:flex><span>(setq reign/end-ancient <span style=color:#ae81ff>421</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun reign/generate-ancient ()
</span></span><span style=display:flex><span>  (reign/generate-helper reign/start-ancient reign/end-ancient-house reign/end-ancient <span style=color:#66d9ef>nil</span>))
</span></span></code></pre></div><p>And just glue all that history together.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp><span style=display:flex><span>(<span style=color:#a6e22e>append</span> (reign/generate-ancient) (reign/generate-gap))
</span></span></code></pre></div><p>The really magical part is when you put all that code into the same block and type <code>C-c C-c</code> (Control-C, twice) on the block, which runs <code>org-babel-execute-src-block</code> and evaluates it. At the bottom appears the result in a handy table form! Each entry looks something like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-org data-lang=org><span style=display:flex><span><span style=color:#e6db74>| (start-year . 665) | (end-year . 713) | (duration . 48) | (house . psarlay)    | (ruler-gender . f) | (consort-gender . m)          |</span>
</span></span></code></pre></div><p>Determining names for the ruler and their consort is a very separate and more subjective process. But we have taken a model and generated some fantasy kingdom history with it!</p><p>As for publishing this information, we can get the spreadsheet features of org-mode to help us out, if we structure our table properly. The published table on the web site looks something like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-org data-lang=org><span style=display:flex><span><span style=color:#e6db74>| Years        | House   | Ruler(s)                             |</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>|--------------+---------+--------------------------------------|</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>| 665-713 X.Y. | Psarlay | Queen Zakia &amp; Prince Consort Sangrez |</span>
</span></span></code></pre></div><p>But I have start years and durations and end years in the data I just generated. Why not ask Emacs to format things for us? My private copy of the table looks like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-org data-lang=org><span style=display:flex><span><span style=color:#e6db74>| Start | Duration | End | Years | House   | Ruler(s)                             |</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>|-------+----------+-----+-------+---------+--------------------------------------|</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>|   665 |       48 |     |       | Psarlay | Queen Zakia &amp; Prince Consort Sangrez |</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#+TBLFM</span><span style=color:#75715e>: $3 = if($2, $1 + $2, string(&#34;&#34;))</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#+TBLFM</span><span style=color:#75715e>: $4 = &#39;(concat $1 &#34;-&#34; $3 &#34; X.Y.&#34;)</span>
</span></span></code></pre></div><p>Whenever I type that lovely <code>C-c C-c</code> (<code>org-ctrl-c-ctrl-c-hook</code>) on each <code>#+TBLFM:</code> line it fills in the cells that are derived information in a consistent format. (Probably eventually running <code>org-table-calc-current-TBLFM</code>.) Or I can use <code>C-c *</code> (<code>org-ctrl-c-star</code> which eventually calls <code>org-table-recalculate</code>) from within the table to recompute all the formulas associated with it. So I can then copy this table to the web site &ndash; also written in org, because I&rsquo;m lazy and the <a href=https://github.com/github/markup>Github Markup library</a> that powers Github wikis supports it &ndash; and just remove the first three columns of the table by moving my cursor to each column and invoking <code>M-x org-table-delete-column</code>.</p><h2 id=complete-source>Complete Source</h2><p>Save this in a file whose name ends in <code>.org</code>. Wrap the code in <code>#+begin_src elisp</code> and <code>#+end_src</code> and evaluate.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp><span style=display:flex><span>(setq reign/houses <span style=color:#f92672>&#39;</span>(gondal zaman ashkani sial
</span></span><span style=display:flex><span>			  psarlay qambrani malyar
</span></span><span style=display:flex><span>			  jalbani baloch nazdana rodini))
</span></span><span style=display:flex><span>(setq reign/maybe-change-of-house (<span style=color:#a6e22e>list</span> <span style=color:#66d9ef>nil</span> <span style=color:#66d9ef>nil</span> <span style=color:#66d9ef>t</span>))
</span></span><span style=display:flex><span>(setq reign/ruler-genders <span style=color:#f92672>&#39;</span>(m m m f f x))
</span></span><span style=display:flex><span>(setq reign/maybe-has-consort (<span style=color:#a6e22e>list</span> <span style=color:#66d9ef>t</span> <span style=color:#66d9ef>t</span> <span style=color:#66d9ef>t</span> <span style=color:#66d9ef>nil</span> <span style=color:#66d9ef>nil</span>))
</span></span><span style=display:flex><span>(setq reign/maybe-consort-gender (<span style=color:#a6e22e>list</span> <span style=color:#66d9ef>nil</span> <span style=color:#66d9ef>nil</span> <span style=color:#66d9ef>nil</span> <span style=color:#66d9ef>nil</span> <span style=color:#66d9ef>nil</span> <span style=color:#66d9ef>t</span> <span style=color:#66d9ef>t</span> <span style=color:#66d9ef>t</span> <span style=color:#e6db74>&#39;x</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun reign/duration () (<span style=color:#a6e22e>+</span> (<span style=color:#a6e22e>random</span> <span style=color:#ae81ff>36</span>) (<span style=color:#a6e22e>random</span> <span style=color:#ae81ff>36</span>)))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun reign/new-house () (seq-random-elt reign/maybe-change-of-house))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun reign/house () (seq-random-elt reign/houses))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun reign/change-of-house (old-house)
</span></span><span style=display:flex><span>  (let ((new-house (reign/house)))
</span></span><span style=display:flex><span>    (if (<span style=color:#a6e22e>eq</span> new-house old-house)
</span></span><span style=display:flex><span>      (reign/change-of-house old-house)
</span></span><span style=display:flex><span>      new-house)))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun reign/ruler-gender () (seq-random-elt reign/ruler-genders))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun reign/has-consort () (seq-random-elt reign/maybe-has-consort))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun reign/consort-gender () (seq-random-elt reign/maybe-consort-gender))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun reign/consort-gender-lookup (ruler consort)
</span></span><span style=display:flex><span>  (cond ((<span style=color:#a6e22e>eq</span> consort <span style=color:#e6db74>&#39;x</span>) consort)
</span></span><span style=display:flex><span>      ((and (<span style=color:#a6e22e>eq</span> ruler <span style=color:#e6db74>&#39;m</span>) (not consort)) <span style=color:#e6db74>&#39;f</span>)
</span></span><span style=display:flex><span>      ((and (<span style=color:#a6e22e>eq</span> ruler <span style=color:#e6db74>&#39;f</span>) (not consort)) <span style=color:#e6db74>&#39;m</span>)
</span></span><span style=display:flex><span>      (<span style=color:#66d9ef>t</span> ruler)))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun reign/consort-gender (ruler-gender)
</span></span><span style=display:flex><span>  (let ((consort-gender (seq-random-elt reign/maybe-consort-gender)))
</span></span><span style=display:flex><span>    (reign/consort-gender-lookup ruler-gender consort-gender)))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun reign/generate-one (current-house)
</span></span><span style=display:flex><span>  (let* ((duration (reign/duration))
</span></span><span style=display:flex><span>       (next-house (if (reign/new-house) (reign/change-of-house current-house) current-house))
</span></span><span style=display:flex><span>       (ruler-gender (reign/ruler-gender))
</span></span><span style=display:flex><span>       (has-consort (reign/has-consort))
</span></span><span style=display:flex><span>       (consort-gender (reign/consort-gender ruler-gender)))
</span></span><span style=display:flex><span>    (<span style=color:#a6e22e>list</span>
</span></span><span style=display:flex><span>     (<span style=color:#a6e22e>cons</span> <span style=color:#e6db74>&#39;duration</span> duration)
</span></span><span style=display:flex><span>     (<span style=color:#a6e22e>cons</span> <span style=color:#e6db74>&#39;house</span> next-house)
</span></span><span style=display:flex><span>     (<span style=color:#a6e22e>cons</span> <span style=color:#e6db74>&#39;ruler-gender</span> ruler-gender)
</span></span><span style=display:flex><span>     (<span style=color:#a6e22e>cons</span> <span style=color:#e6db74>&#39;consort-gender</span> (if has-consort consort-gender <span style=color:#e6db74>&#39;no-consort</span>)))))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun reign/generate-helper (start-year start-house end-year history)
</span></span><span style=display:flex><span>  (if (<span style=color:#a6e22e>&lt;=</span> end-year start-year) history
</span></span><span style=display:flex><span>    (let* ((this-reign (reign/generate-one start-house))
</span></span><span style=display:flex><span>	 (house (alist-get <span style=color:#e6db74>&#39;house</span> this-reign))
</span></span><span style=display:flex><span>	 (maybe-duration (alist-get <span style=color:#e6db74>&#39;duration</span> this-reign))
</span></span><span style=display:flex><span>	 (duration-floor (<span style=color:#a6e22e>-</span> end-year start-year))
</span></span><span style=display:flex><span>	 (maybe-new-end-year (<span style=color:#a6e22e>-</span> end-year maybe-duration))
</span></span><span style=display:flex><span>	 (adjusted-duration (if (<span style=color:#a6e22e>&lt;</span> maybe-new-end-year start-year) duration-floor maybe-duration))
</span></span><span style=display:flex><span>	 (new-end-year (if (<span style=color:#a6e22e>&lt;=</span> maybe-new-end-year start-year) start-year maybe-new-end-year))
</span></span><span style=display:flex><span>	 (augmentation (<span style=color:#a6e22e>list</span>
</span></span><span style=display:flex><span>			(<span style=color:#a6e22e>cons</span> <span style=color:#e6db74>&#39;start-year</span> new-end-year)
</span></span><span style=display:flex><span>			(<span style=color:#a6e22e>cons</span> <span style=color:#e6db74>&#39;end-year</span> end-year)))
</span></span><span style=display:flex><span>	 (adjusted-duration-pair (<span style=color:#a6e22e>cons</span> <span style=color:#e6db74>&#39;duration</span> adjusted-duration))
</span></span><span style=display:flex><span>	 (durationless-reign (assoc-delete-all <span style=color:#e6db74>&#39;duration</span> this-reign))
</span></span><span style=display:flex><span>	 (adjusted-reign (<span style=color:#a6e22e>cons</span> adjusted-duration-pair durationless-reign))
</span></span><span style=display:flex><span>	 (reign-record (<span style=color:#a6e22e>append</span> augmentation adjusted-reign))
</span></span><span style=display:flex><span>	 (new-history (<span style=color:#a6e22e>cons</span> reign-record history)))
</span></span><span style=display:flex><span>      (reign/generate-helper start-year house new-end-year new-history))))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(setq reign/start-gap <span style=color:#ae81ff>611</span>)
</span></span><span style=display:flex><span>(setq reign/end-house <span style=color:#e6db74>&#39;malyar</span>)
</span></span><span style=display:flex><span>(setq reign/end-gap <span style=color:#ae81ff>784</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun reign/generate-gap ()
</span></span><span style=display:flex><span>  (reign/generate-helper reign/start-gap reign/end-house reign/end-gap <span style=color:#66d9ef>nil</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(setq reign/start-ancient <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>(setq reign/end-ancient-house <span style=color:#e6db74>&#39;baloch</span>)
</span></span><span style=display:flex><span>(setq reign/end-ancient <span style=color:#ae81ff>421</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(defun reign/generate-ancient ()
</span></span><span style=display:flex><span>  (reign/generate-helper reign/start-ancient reign/end-ancient-house reign/end-ancient <span style=color:#66d9ef>nil</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>(<span style=color:#a6e22e>append</span> (reign/generate-ancient) (reign/generate-gap))
</span></span></code></pre></div><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>Yes, <a href=https://orgroam.com/>org-roam</a> is involved, but it is not the focus of this article.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>Non-binary, transgender, and gender-non-conforming folk are welcome as players at the table and as characters in the setting as well. Modeling both sex and gender in the code would not add much educational value from a computing perspective, but could be interesting for describing a society that more closely resembles where I live.&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div><footer class=footline></footer></article></div></main></div><aside id=sidebar class=default-animation dir=ltr><div id=header-wrapper class=default-animation><div id=header class=default-animation><style>#logo svg,#logo svg *{color:#282828;color:var(--MENU-SECTIONS-BG-color);fill:#282828!important;fill:var(--MENU-SECTIONS-BG-color)!important;opacity:.945}a#logo{color:#282828;color:var(--MENU-SECTIONS-BG-color);font-family:work sans,helvetica,tahoma,geneva,arial,sans-serif;font-size:30px;font-weight:300;margin-top:-13px;max-width:60%;text-transform:uppercase;width:226px;white-space:nowrap}a#logo:hover{color:#282828;color:var(--MENU-SECTIONS-BG-color)}#logo svg{margin-bottom:-20px;margin-left:-23.5px;width:40.5%}@media only all and (max-width:59.938em){a#logo{font-size:25px;margin-top:-3px}#logo svg{margin-bottom:-12px;margin-left:-23px}}@media all and (-ms-high-contrast:none){a#logo{margin-top:-58px}#logo svg{margin-bottom:-62px}}</style><a id=logo href=/technically-nightshade/index.html><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64.044 64.044"><path d="M46.103 136.34c-.642-.394-1.222-2.242-1.98-2.358-.76-.117-1.353.506-1.618 1.519-.266 1.012-.446 4.188.173 5.538.213.435.482.787 1.03.845.547.057.967-.504 1.45-1.027.482-.523.437-.9 1.142-.612.705.289 1.051.4 1.586 1.229.535.828 1.085 4.043.868 5.598-.241 1.458-.531 2.8-.59 4.088.26.075.517.148.772.217 2.68.724 5.373 1.037 7.873.02.001-.028.01-.105.008-.11-.048-.165-.18-.41-.36-.698-.18-.29-.414-.645-.586-1.114a3.212 3.212.0 01-.125-1.735c.056-.21.153-.342.249-.475 1.237-1.193 2.932-1.373 4.244-1.384.557-.004 1.389.016 2.198.255s1.706.724 2.068 1.843c.187.578.114 1.17-.043 1.623-.153.438-.369.783-.545 1.091-.178.31-.329.6-.401.821-.007.02-.003.071-.005.094 2.256 1.008 4.716.91 7.189.398.55-.114 1.11-.247 1.673-.377.344-1.085.678-2.145.852-3.208.124-.752.158-2.311-.078-3.538-.118-.613-.306-1.15-.52-1.489-.221-.349-.413-.501-.747-.538-.243-.027-.51.013-.796.098-.67.223-1.33.606-1.966.76l-.008.002-.109.032c-.556.152-1.233.158-1.797-.36-.556-.51-.89-1.367-1.117-2.596-.283-1.528-.075-3.279.89-4.518l.071-.09h.07c.65-.71 1.485-.802 2.16-.599.706.213 1.333.629 1.772.84.736.354 1.185.319 1.475.171.291-.148.5-.439.668-.955.332-1.017.301-2.819.022-4.106-.148-.684-.13-1.292-.13-1.883-1.558-.463-3.067-.982-4.574-1.208-1.128-.169-2.263-.173-3.298.164-.13.046-.256.095-.38.15-.373.164-.633.342-.805.52-.077.098-.081.105-.087.21-.004.068.031.289.13.571.1.282.256.634.467 1.03.279.524.448 1.063.431 1.618a2.12 2.12.0 01-.499 1.309 1.757 1.757.0 01-.62.51h-.002c-.515.291-1.107.404-1.723.464-.86.083-1.787.026-2.598-.097-.806-.123-1.47-.28-1.948-.555-.444-.256-.79-.547-1.037-.925a2.273 2.273.0 01-.356-1.301c.029-.837.403-1.437.625-1.897.111-.23.191-.433.236-.583.045-.15.044-.25.046-.24-.005-.029-.127-.355-1.015-.741-1.138-.495-2.322-.673-3.533-.668h-.015a9.711 9.711.0 00-.521.016h-.002c-1.163.057-2.35.308-3.541.569.383 1.531.79 2.753.818 4.502-.096 1.297.158 2.114-1.03 2.935-.85.588-1.508.729-2.15.335" style="fill:#282828;fill-opacity:1;stroke:none;stroke-width:1.03763;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" transform="translate(-40.698 -95.175)"/><path d="M61.472 101.34v.002c-.3-.003-.603.01-.894.04-.544.055-1.39.165-1.778.306-1.238.364.13 2.344.41 2.913.28.569.285 2.03.14 2.134-.144.103-.375.261-.934.345-.56.084.03-.037-1.589.086-1.62.122-5.506.29-8.265.248-.022.26-.036.521-.097.808-.309 1.442-.63 3.163-.494 4.074.071.473.168.65.414.8.23.14.737.235 1.62-.004.834-.227 1.3-.442 1.887-.456.595-.016 1.555.472 1.965.717.411.245-.03-.008.002.0s.128.05.176.102c.049.053-.276-.523.104.199.379.721.72 3.256.002 4.68-.46.913-1.01 1.49-1.64 1.711-.63.22-1.229.067-1.734-.135-.881-.353-1.584-.7-2.205-.647-1.199 1.94-1.186 4.17-.6 6.602.097.397.212.814.327 1.23 2.68-.556 5.542-1.016 8.337.132 1.064.437 1.73 1.015 1.902 1.857.169.831-.193 1.508-.438 1.986-.122.238-.23.46-.307.642-.07.164-.096.28-.104.324.069.429.309.723.686.945.385.227.89.355 1.35.423.723.104 1.567.152 2.287.086.693-.064 1.032-.338 1.241-.544a2.447 2.447.0 00.303-.437.175.175.0 00.013-.035c-.004-.066-.037-.246-.195-.527-.46-.816-.87-1.595-.817-2.51.028-.476.218-.938.529-1.288.304-.343.698-.586 1.186-.79 1.442-.606 2.96-.609 4.372-.409 1.525.216 2.963.679 4.378 1.083.226-2.09.784-3.9.592-5.77-.058-.565-.287-1.333-.598-1.827-.32-.508-.59-.717-1.036-.642-.648.11-1.472.935-2.707 1.078-.791.092-1.494-.267-1.95-.86-.45-.583-.678-1.335-.78-2.101-.202-1.525.031-3.229.89-4.27.615-.747 1.45-.887 2.15-.74.687.145 1.307.492 1.857.745v-.002c.546.252 1.033.388 1.281.344a.547.547.0 00.353-.188c.113-.124.242-.35.384-.75.604-1.712.206-3.68-.303-5.654-.667.145-1.336.293-2.018.413-1.341.236-2.73.392-4.136.273-.656-.055-1.695-.085-2.58-.476-.442-.195-.903-.514-1.157-1.093-.259-.591-.205-1.313.08-2.014.223-.64 1.082-2.178.692-2.585-.391-.407-1.651-.56-2.554-.571z" style="fill:#282828;fill-opacity:1;stroke:none;stroke-width:.992837;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" transform="translate(-40.698 -95.175)"/><path d="M83.128 98.116c-.484 1.875-1.057 3.757-2.486 5.033-.638.57-1.13.666-1.483.548-.401-.134-.715-.506-1.058-.973-.338-.461-.655-.97-1.076-1.332-.192-.165-.404-.315-.683-.38-.279-.066-.599-.02-.9.102-.489.196-.89.58-1.28 1.047a6.1 6.1.0 00-.985 1.632c-.234.591-.356 1.174-.277 1.713.072.487.392.977.905 1.185.463.187.926.156 1.36.154.433.0.843.01 1.242.147.55.189.79.736.822 1.368.034.66-.145 1.412-.393 1.988l-.008.021c-.74 1.705-1.946 2.893-3.004 4.349l-.664.915.979.099c.924.092 1.788.26 2.468.675.46.281 1.806 1.205 2.794 2.222.497.513.888 1.031 1.047 1.502.078.231.095.422.05.6a.93.93.0 01-.345.474c-.301.223-.606.395-.864.532l-.354.186c-.107.058-.189.087-.345.228a.637.637.0 01.062-.045l-.064.041-.209.236-.103.343s.003.126.007.152c.003.017.003.007.004.015v.002c.016.195.061.307.133.476a4.1 4.1.0 00.32.596 5.7 5.7.0 002.8 2.258c.284.108.908.321 1.548.36.33.02.59.015.912-.13h.002c.08-.037.228-.095.382-.281.153-.186.19-.355.212-.445l.019-.075.003-.078c.023-.585-.037-1.296.072-1.899.153-.657.435-.956 1.009-.909 2.771.239 4.74 1.955 6.693 3.83l.742.714.279-1.155c.55-2.29 1.093-4.464 2.928-5.977.692-.57 1.184-.642 1.527-.509.39.151.676.536.996.995.319.458.605.926 1.07 1.212.194.119.464.232.784.209.32-.024.638-.163.988-.384 1.022-.645 1.778-1.756 2.086-2.942.136-.522.102-.991-.046-1.301-.158-.334-.433-.553-.754-.707-.653-.314-1.468-.373-2.094-.486-.825-.15-1.22-.475-1.345-.878-.13-.417.0-.953.335-1.61.6-1.173 1.887-2.602 3.13-3.911l.498-.526-.449-.432c-1.545-1.49-3.163-3.01-5.252-3.715h-.002c-.473-.16-1.097-.413-1.73-.424h-.003c-.311-.004-.596.04-.883.24v.002c-.22.155-.483.537-.583.937l-.008.036-.006.038c-.116.773-.06 1.467-.217 1.995-.063.212-.198.418-.359.507-.202.111-.492.153-.976.072-.582-.097-1.978-.69-3.021-1.503-.523-.407-.934-.85-1.117-1.3a1.153 1.153.0 01-.083-.63c.03-.184.1-.477.308-.593.21-.116.941-.32 1.377-.642h.002c.192-.141.403-.367.518-.64.114-.275.127-.526.123-.774-.006-.142-.036-.192-.08-.3a8.417 8.417.0 00-3-3.027c-1.226-.725-2.585-1.135-3.927-1.539-.434-.12-.844-.111-1.02.466zm.912.947c1.186.364 2.357.718 3.345 1.303 1.035.612 1.864 1.488 2.507 2.528-.514.263-1.095.5-1.44.79s-.729.914-.815 1.434c-.084.509.0.968.155 1.347.301.74.85 1.276 1.44 1.735 1.18.92 2.554 1.545 3.47 1.698.604.1 1.186.088 1.739-.216.594-.327.935-.911 1.088-1.427.264-.884.193-1.664.262-2.17h.1c.3.006.926.206 1.417.371 1.646.554 3.044 1.773 4.431 3.089-1.102 1.174-2.222 2.423-2.888 3.73-.42.823-.73 1.789-.453 2.687.283.913 1.1 1.415 2.138 1.603.691.126 1.472.226 1.84.403.19.091.258.182.278.223.03.064.058.075-.023.387-.21.804-.761 1.598-1.413 2.01-.247.155-.365.183-.407.187-.042.003-.061.002-.172-.066-.144-.088-.455-.473-.772-.929-.317-.454-.714-1.07-1.452-1.356-.783-.304-1.776-.022-2.713.75-1.942 1.6-2.626 3.764-3.146 5.8-1.802-1.676-3.772-3.138-6.589-3.517h-.002c-.346-.095-1.013-.031-1.293.143-.735.501-1.005 1.132-1.168 2.007-.125.69-.082 1.216-.074 1.659-.055.006-.046.01-.104.006-.42-.026-1.035-.215-1.244-.295-.947-.361-1.774-1.006-2.314-1.857-.054-.085-.072-.132-.109-.2l.027-.016c.284-.15.656-.36 1.045-.648.44-.327.789-.798.93-1.35a2.4 2.4.0 00-.068-1.379c-.254-.751-.753-1.353-1.295-1.911-1.09-1.124-2.452-2.049-2.99-2.378-.609-.372-1.303-.44-1.981-.56.875-1.094 1.878-2.251 2.596-3.921.294-.823.543-1.907.513-2.658-.049-.97-.489-2.013-1.52-2.367-.579-.2-1.131-.204-1.58-.203-.45.002-.786-.006-.97-.08h-.002c-.264-.107-.236-.108-.268-.33-.025-.17.021-.553.183-.962a4.67 4.67.0 01.725-1.192c.29-.348.617-.59.705-.626.142-.057.176-.05.22-.04.045.011.127.052.263.17.235.201.56.671.92 1.161.354.484.791 1.08 1.543 1.33.8.267 1.784-.052 2.671-.846 1.594-1.424 2.235-3.317 2.714-5.051zm11.705 7.023c-.02.014.042-.002.042.0l-.008.035c.05-.2-.028-.04-.034-.035zM79.472 122.45a.198.198.0 01.005.023v.014c-.002-.01-.003-.03-.005-.037zm-.29.732-.006.01-.044.027c.016-.01.033-.024.05-.036z" style="color:#000;fill:#282828;stroke-width:1.02352;-inkscape-stroke:none" transform="translate(-40.698 -95.175)"/><path d="M76.694 128.845c-.85-.012-1.668.253-2.434.67-.01.592-.015 1.17.109 1.772.323 1.573.422 3.553-.07 5.147-.247.804-.684 1.535-1.347 1.891s-1.467.296-2.362-.159c-.522-.266-1.059-.62-1.487-.757-.223-.072-.392-.096-.522-.069-.13.027-.232.094-.362.27-.53.719-.681 1.823-.497 2.876.177 1.012.418 1.438.543 1.56.143.137.26.154.604.055.548-.158 1.523-.857 2.573-.972l.02-.002.5.058c.686.081 1.247.562 1.622 1.19.372.62.591 1.37.73 2.136.279 1.532.25 3.16.083 4.232-.14.91-.394 1.72-.632 2.53 1.719-.385 3.485-.692 5.307-.36 1.174.214 2.749.574 3.762 1.977l.088.122.046.159c.162.551.16 1.114.024 1.578-.13.45-.348.772-.533 1.023-.181.246-.336.444-.437.606-.102.16-.141.275-.145.336-.01.17.0.197.07.315.057.1.186.242.39.366.408.246 1.106.414 1.843.45a7.842 7.842.0 002.174-.21 4.28 4.28.0 00.822-.296c.218-.106.385-.242.377-.233l.029-.031c.025-.035.05-.072.05-.068.0-.004.0-.017-.003-.05a2.733 2.733.0 00-.21-.579c-.26-.548-.839-1.333-.822-2.46.01-.657.27-1.21.598-1.576.32-.357.696-.575 1.074-.736.759-.323 1.57-.418 2.054-.458 1.653-.136 3.252.296 4.755.765.457.142.905.29 1.352.434.325-2.258.902-4.247.598-6.217-.071-.46-.25-1.169-.486-1.684-.238-.518-.495-.762-.675-.779-.351-.032-.716.14-1.174.418-.457.277-1.005.665-1.695.742-.745.082-1.406-.291-1.84-.908-.428-.608-.653-1.394-.754-2.196-.203-1.596.016-3.377.794-4.493.568-.813 1.358-.984 2.024-.835.65.146 1.243.51 1.769.779.524.267.99.413 1.237.365a.527.527.0 00.346-.2c.11-.132.235-.373.37-.798.612-1.918.27-3.894-.246-6.054-2.815-.851-5.49-1.534-8.089-.267a.727.727.0 00-.223.148c-.024.028-.018.021-.026.056.001-.003-.01.178.07.44.162.522.611 1.29.911 1.978l.004.009.029.063.024.084V133c.162.635.016 1.297-.274 1.727-.272.404-.618.636-.952.81-.675.353-1.399.484-1.724.533a5.888 5.888.0 01-3.973-.795c-.512-.311-.876-.594-1.133-1.02-.282-.466-.318-1.084-.172-1.557.252-.814.715-1.266.971-1.89a.663.663.0 00.047-.14c.001-.013.0-.006-.007-.037a.761.761.0 00-.184-.268c-.264-.267-.865-.595-1.54-.826-1.356-.462-3.07-.659-3.583-.686-.062-.002-.121-.006-.178-.006z" style="fill:#282828;fill-opacity:1;stroke:none;stroke-width:.991342;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" transform="translate(-40.698 -95.175)"/></svg>Relearn</a></div><div class="searchbox default-animation"><i class="fas fa-search" title="Search (CTRL+ALT+f)"></i>
<label class=a11y-only for=search-by>Search</label>
<input data-search-input id=search-by name=search-by class=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script>var contentLangs=["en"]</script><script src=/technically-nightshade/js/auto-complete.js?1670559068 defer></script>
<script src=/technically-nightshade/js/lunr.min.js?1670559068 defer></script>
<script src=/technically-nightshade/js/lunr.stemmer.support.min.js?1670559068 defer></script>
<script src=/technically-nightshade/js/lunr.multi.min.js?1670559068 defer></script>
<script src=/technically-nightshade/js/lunr.en.min.js?1670559068 defer></script>
<script src=/technically-nightshade/js/search.js?1670559068 defer></script></div><div id=homelinks class=default-animation><ul><li><a class=padding href=/technically-nightshade/index.html><i class="fas fa-home"></i> Home</a></li></ul></div><div id=content-wrapper class=highlightable><ul class=topics><li data-nav-id=/technically-nightshade/posts/index.html class="dd-item parent"><a href=/technically-nightshade/posts/index.html>Posts</a><ul id=subsections-a07783f405300745807d39eacf150420><li data-nav-id=/technically-nightshade/posts/generating-royal-history/index.html class="dd-item active"><a href=/technically-nightshade/posts/generating-royal-history/index.html>Generating Royal History</a></li></ul></li></ul><div class="footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter"></div><hr class="default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter"><div id=prefooter class="footerLangSwitch footerVariantSwitch footerVisitedLinks"><ul><li id=select-language-container class=footerLangSwitch><div class="padding select-container"><i class="fas fa-language fa-fw"></i>
<span>&nbsp;</span><div class=select-style><label class=a11y-only for=select-language>Language</label>
<select id=select-language onchange="location=baseUri+this.value"></select></div><div class=select-clear></div></div></li><li id=select-variant-container class=footerVariantSwitch><div class="padding select-container"><i class="fas fa-paint-brush fa-fw"></i>
<span>&nbsp;</span><div class=select-style><label class=a11y-only for=select-variant>Theme</label>
<select id=select-variant onchange=window.variants&&variants.changeVariant(this.value)><option id=relearn-light value=relearn-light selected>Relearn Light</option></select></div><div class=select-clear></div></div><script>window.variants&&variants.markSelectedVariant()</script></li><li class=footerVisitedLinks><button class=padding onclick=clearHistory()><i class="fas fa-history fa-fw"></i> Clear History</button></li></ul></div><div id=footer class="footerFooter showFooter"><p>Built with <a href=https://github.com/McShelby/hugo-theme-relearn title=love><i class="fas fa-heart"></i></a> by <a href=https://gohugo.io/>Hugo</a></p></div></div></aside><script src=/technically-nightshade/js/clipboard.min.js?1670559068 defer></script>
<script src=/technically-nightshade/js/perfect-scrollbar.min.js?1670559068 defer></script>
<script src=/technically-nightshade/js/featherlight.min.js?1670559068 defer></script>
<script src=/technically-nightshade/js/theme.js?1670559068 defer></script></body></html>